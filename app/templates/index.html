<!DOCTYPE html>

<html>

<head>
    <title>WatchVictis</title>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <link rel="stylesheet" href="static/css/style.css">
    <style>
    @font-face {
        font-family: 'Adam';
        /*src: local('ADAM.CG PRO'), url(../font/adam.woff2) format('woff2'), url(../font/adam.woff) format('woff');*/
        src: local('ADAM.CG PRO'), url(static/font/adam.woff2) format('woff2'), url(static/font/adam.woff) format('woff');
        unicode-range: U+0000-00FF;
    }
    @font-face {
        font-family: 'Roboto';
        font-weight: 300;
        src: local('Roboto Light'), local('Roboto-Light');
        /*src: url(../font/roboto.woff2) format('woff2');*/
        src: url(static/font/roboto.woff2) format('woff2');
        unicode-range: U+0000-00FF;
    }
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    body {
        background: #333;
        color: white;
        font-family: 'Roboto', sans-serif;
    }
    h1,
    h2,
    h3,
    h4 {
        font-family: 'Adam', 'Roboto', sans-serif;
    }
    body > * {
        position: absolute;
        padding: 20px;
    }
    header {
        padding: 0;
        width: 50vw;
        height: 20vh;
        top: 0;
        left: 0;
    }
    header > * {
        display: inline-block;
    }
    #logo {
        height: 17vh;
        margin-top: 0vh;
        margin-left: 20px;
        float: left;
    }
    header div {
        margin-top: 30px;
    }
    #matches-pane {
        width: 50vw;
        height: 80vh;
        top: 20vh;
        left: 0;
    }
    #stream {
        width: 50vw;
        height: 50vh;
        top: 50vh;
        left: 50vw;
    }

    </style>
</head>

<body>
    <header>
        <img src="static/img/logo.svg" id="logo">
        <div>
            <h1>WatchVictis</h1>
            <select id="event-selector">
                <option>No events found.</option>
            </select>
        </div>
    </header>
    <aside id="matches-pane">
        <table>
            <tbody id="matches-list">
                <tr>No matches found.</tr>
            </tbody>
        </table>
    </aside>
    <aside id="stream">
        <p>No stream found.</p>
    </aside>
    <script>
        var socket = io.connect('http://' + document.domain + ':' + location.port + '/req');

        var ui = {
            matchesList: document.getElementById('matches-list')
        }
        socket.addEventListener('response', function(data) {
            console.log(data);
        });
        socket.addEventListener('data', function(data) {
            console.log(data);

            while (ui.matchesList.hasChildNodes()) {
                ui.matchesList.removeChild(ui.matchesList.firstChild);
            }
            for (i in data.matches) { //= 0; i < data.matches.length; i++) {
                row = document.createElement('tr');
                row.innerHTML = '<td>' + i.match_number + '</td>';
                ui.matchesList.appendChild(row);
            }

        });
    </script>
</body>

</html>
